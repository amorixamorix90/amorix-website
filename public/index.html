<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMORIX | Chaque amour a sa chanson</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root{--coral:#EF5B6C;--coral-dark:#D94A5A;--black:#2A2A2A;--white:#FFF;--gray-light:#F5F5F5;--gray:#888;--success:#4CAF50;--shadow:0 4px 30px rgba(239,91,108,.15);--shadow-lg:0 20px 60px rgba(239,91,108,.2)}
        *{margin:0;padding:0;box-sizing:border-box}
        html{scroll-behavior:smooth}
        body{font-family:'Outfit',sans-serif;background:var(--white);color:var(--black);overflow-x:hidden}
        .bg-pattern{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;opacity:.5;background-image:radial-gradient(circle at 15% 85%,rgba(239,91,108,.08) 0%,transparent 40%),radial-gradient(circle at 85% 15%,rgba(239,91,108,.05) 0%,transparent 35%)}
        nav{position:fixed;top:0;left:0;right:0;z-index:1000;padding:1rem 2rem;background:rgba(255,255,255,.97);backdrop-filter:blur(20px);box-shadow:0 2px 30px rgba(0,0,0,.08)}
        .nav-content{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
        .logo{display:flex;align-items:center;gap:.8rem;text-decoration:none}
        .logo img{height:40px}
        .logo-text{font-family:'Cormorant Garamond',serif;font-size:1.5rem;font-weight:600;color:var(--black);letter-spacing:2px}
        .nav-links{display:flex;gap:2rem;list-style:none;align-items:center}
        .nav-links a{text-decoration:none;color:var(--black);font-weight:500;font-size:.9rem;transition:color .3s}
        .nav-links a:hover{color:var(--coral)}
        .lang-switch{display:flex;gap:.3rem;background:var(--gray-light);padding:.3rem;border-radius:50px}
        .lang-btn{padding:.4rem .8rem;border:none;background:transparent;border-radius:50px;cursor:pointer;font-weight:600;font-size:.8rem;color:var(--gray);transition:all .3s}
        .lang-btn.active{background:var(--white);color:var(--black);box-shadow:0 2px 8px rgba(0,0,0,.1)}
        .nav-cta{background:var(--coral)!important;color:var(--white)!important;padding:.75rem 1.5rem;border-radius:50px;font-weight:600}
        .nav-cta:hover{background:var(--coral-dark)!important}
        .hero{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:7rem 2rem 5rem;z-index:10;position:relative}
        .hero-content{text-align:center;max-width:900px}
        .hero-badge{display:inline-flex;align-items:center;gap:.6rem;background:var(--white);padding:.6rem 1.4rem;border-radius:50px;font-size:.85rem;color:var(--coral);font-weight:600;margin-bottom:2.5rem;box-shadow:var(--shadow);border:1px solid rgba(239,91,108,.15);animation:fadeUp .8s ease forwards;opacity:0}
        .hero-badge .pulse{width:8px;height:8px;background:var(--coral);border-radius:50%;animation:pulse 2s infinite}
        @keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.5);opacity:.5}}
        @keyframes fadeUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
        .hero h1{font-family:'Cormorant Garamond',serif;font-size:clamp(2.8rem,7vw,4.5rem);font-weight:600;line-height:1.15;margin-bottom:1.5rem;color:var(--black);animation:fadeUp .8s ease .2s forwards;opacity:0}
        .hero h1 .accent{color:var(--coral);font-style:italic}
        .hero-subtitle{font-size:1.15rem;color:var(--gray);margin-bottom:3rem;line-height:1.7;animation:fadeUp .8s ease .4s forwards;opacity:0}
        .hero-cta{display:flex;gap:1.2rem;justify-content:center;flex-wrap:wrap;animation:fadeUp .8s ease .6s forwards;opacity:0}
        .btn{padding:1.1rem 2.5rem;border-radius:50px;font-size:1rem;font-weight:600;text-decoration:none;transition:all .3s;display:inline-flex;align-items:center;gap:.6rem;cursor:pointer;border:none}
        .btn-primary{background:var(--coral);color:var(--white);box-shadow:var(--shadow)}
        .btn-primary:hover{background:var(--coral-dark);transform:translateY(-3px);box-shadow:var(--shadow-lg)}
        .btn-secondary{background:var(--white);color:var(--black);border:2px solid var(--black)}
        .btn-secondary:hover{background:var(--black);color:var(--white)}
        .btn:disabled{opacity:.6;cursor:not-allowed;transform:none!important}
        .hero-price{margin-top:3rem;animation:fadeUp .8s ease .8s forwards;opacity:0}
        .price-tag{display:inline-flex;align-items:baseline;gap:.4rem;background:var(--black);padding:1rem 2.5rem;border-radius:50px;color:var(--white)}
        .price-tag .amount{font-size:2rem;font-weight:700}
        .price-tag .details{font-size:.9rem;opacity:.85}
        section{position:relative;z-index:10;padding:6rem 2rem}
        .section-header{text-align:center;max-width:700px;margin:0 auto 4rem}
        .section-header h2{font-family:'Cormorant Garamond',serif;font-size:clamp(2rem,5vw,2.8rem);color:var(--black);margin-bottom:1rem;font-weight:600}
        .section-header p{color:var(--gray);font-size:1.1rem;line-height:1.7}
        .how-it-works{background:var(--gray-light)}
        .steps{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;max-width:1200px;margin:0 auto}
        .step{text-align:center;padding:2.5rem 2rem;border-radius:24px;background:var(--white);transition:all .3s}
        .step:hover{transform:translateY(-8px);box-shadow:var(--shadow)}
        .step-number{width:60px;height:60px;background:var(--black);color:var(--white);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:700;margin:0 auto 1.5rem;font-family:'Cormorant Garamond',serif}
        .step h3{font-size:1.2rem;margin-bottom:.8rem;color:var(--black);font-weight:600}
        .step p{color:var(--gray);line-height:1.6;font-size:.95rem}
        .pricing{background:var(--white)}
        .pricing-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;max-width:1000px;margin:0 auto}
        .pricing-card{background:var(--white);border-radius:24px;padding:2.5rem;text-align:center;transition:all .3s;border:2px solid var(--gray-light);position:relative}
        .pricing-card:hover{transform:translateY(-10px);box-shadow:var(--shadow-lg);border-color:transparent}
        .pricing-card.featured{border-color:var(--coral)}
        .pricing-card .badge{position:absolute;top:-14px;left:50%;transform:translateX(-50%);background:var(--coral);color:var(--white);padding:.5rem 1.5rem;border-radius:50px;font-size:.8rem;font-weight:700;text-transform:uppercase}
        .pricing-card h3{font-family:'Cormorant Garamond',serif;font-size:1.5rem;margin-bottom:.5rem;color:var(--black)}
        .pricing-card .price{font-size:3rem;font-weight:700;color:var(--black);margin:1rem 0}
        .pricing-card .price span{font-size:1rem;color:var(--gray);font-weight:400}
        .pricing-card ul{list-style:none;margin:1.5rem 0;text-align:left}
        .pricing-card li{padding:.7rem 0;border-bottom:1px solid var(--gray-light);display:flex;align-items:center;gap:.7rem;color:var(--black);font-size:.95rem}
        .pricing-card li::before{content:'‚úì';color:var(--coral);font-weight:700}
        .testimonials{background:var(--gray-light)}
        .testimonial-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:2rem;max-width:1200px;margin:0 auto}
        .testimonial{background:var(--white);padding:2rem;border-radius:24px;position:relative}
        .testimonial::before{content:'"';font-family:'Cormorant Garamond',serif;font-size:6rem;color:var(--coral);opacity:.15;position:absolute;top:0;left:15px;line-height:1}
        .testimonial p{font-style:italic;color:var(--black);line-height:1.7;margin-bottom:1.5rem;position:relative;z-index:1}
        .testimonial-author{display:flex;align-items:center;gap:1rem}
        .testimonial-author .avatar{width:50px;height:50px;background:var(--black);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--white);font-weight:600}
        .testimonial-author .info strong{display:block;color:var(--black)}
        .testimonial-author .info span{font-size:.85rem;color:var(--gray)}
        .samples{padding:5rem 2rem;background:var(--gray-light)}
        .samples-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;max-width:1000px;margin:0 auto}
        .sample-card{background:var(--white);border-radius:16px;padding:1.5rem;box-shadow:0 4px 20px rgba(0,0,0,.05);transition:all .3s}
        .sample-card:hover{transform:translateY(-3px);box-shadow:0 8px 30px rgba(0,0,0,.1)}
        .sample-info{margin-bottom:1rem}
        .sample-genre{display:inline-block;background:var(--coral);color:var(--white);padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600;margin-bottom:.5rem}
        .sample-info h4{font-family:'Cormorant Garamond',serif;font-size:1.2rem;color:var(--black);margin-bottom:.3rem}
        .sample-info p{font-size:.85rem;color:var(--gray)}
        .sample-audio{width:100%;height:40px;border-radius:20px}
        .sample-audio::-webkit-media-controls-panel{background:var(--gray-light)}
        .footer-cta{background:var(--coral);color:var(--white);text-align:center;padding:5rem 2rem}
        .footer-cta h2{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.5rem);margin-bottom:1rem}
        .footer-cta p{opacity:.9;margin-bottom:2rem;font-size:1.1rem}
        .footer-cta .btn-primary{background:var(--black);color:var(--white)}
        footer{background:var(--black);color:var(--white);padding:2rem;text-align:center}
        footer .logo{justify-content:center;margin-bottom:1rem}
        footer .logo-text{color:var(--white)}
        footer p{opacity:.5;font-size:.85rem}
        .modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);backdrop-filter:blur(5px);z-index:2000;display:none;align-items:center;justify-content:center;padding:1rem}
        .modal-overlay.active{display:flex}
        .modal{background:var(--white);border-radius:24px;max-width:700px;width:100%;max-height:90vh;overflow-y:auto;position:relative}
        .modal-close{position:absolute;top:1rem;right:1rem;width:40px;height:40px;border:none;background:var(--gray-light);border-radius:50%;cursor:pointer;font-size:1.2rem;display:flex;align-items:center;justify-content:center;z-index:10}
        .modal-close:hover{background:var(--coral);color:var(--white)}
        .progress-bar{display:flex;justify-content:space-between;padding:1.5rem 2rem;background:var(--black)}
        .progress-step{display:flex;flex-direction:column;align-items:center;gap:.4rem;position:relative;z-index:1}
        .progress-step .num{width:35px;height:35px;border-radius:50%;background:rgba(255,255,255,.2);color:rgba(255,255,255,.5);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;transition:all .3s}
        .progress-step.active .num{background:var(--coral);color:var(--white)}
        .progress-step.done .num{background:var(--success);color:var(--white)}
        .progress-step .lbl{font-size:.7rem;color:rgba(255,255,255,.5);text-transform:uppercase;letter-spacing:.5px}
        .progress-step.active .lbl,.progress-step.done .lbl{color:var(--white)}
        .form-content{padding:2rem}
        .form-step{display:none;animation:fadeIn .4s ease}
        .form-step.active{display:block}
        @keyframes fadeIn{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
        .form-step h3{font-family:'Cormorant Garamond',serif;font-size:1.6rem;color:var(--black);margin-bottom:.5rem}
        .form-step .subtitle{color:var(--gray);margin-bottom:1.5rem;font-size:.9rem}
        .form-group{margin-bottom:1.3rem}
        .form-group label{display:block;margin-bottom:.4rem;font-weight:600;color:var(--black);font-size:.9rem}
        .form-group .opt{font-weight:400;color:var(--gray);font-size:.8rem}
        .form-group input,.form-group textarea,.form-group select{width:100%;padding:.9rem 1rem;border:2px solid var(--gray-light);border-radius:12px;font-size:.95rem;font-family:inherit;transition:all .3s;background:var(--white)}
        .form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--coral);box-shadow:0 0 0 4px rgba(239,91,108,.1)}
        .form-group textarea{min-height:100px;resize:vertical}
        .option-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.8rem;margin-bottom:1rem}
        .option-grid.cols-3{grid-template-columns:repeat(3,1fr)}
        .option-card{padding:1rem;border:2px solid var(--gray-light);border-radius:14px;cursor:pointer;transition:all .3s;text-align:center;position:relative}
        .option-card:hover{border-color:var(--coral);background:rgba(239,91,108,.03)}
        .option-card.selected{border-color:var(--coral);background:rgba(239,91,108,.08)}
        .option-card.featured{border-color:#ddd;background:linear-gradient(135deg,rgba(239,91,108,.05) 0%,rgba(239,91,108,.02) 100%)}
        .option-card.featured::before{content:attr(data-badge);position:absolute;top:-10px;left:50%;transform:translateX(-50%);background:var(--coral);color:var(--white);padding:.2rem .6rem;border-radius:50px;font-size:.65rem;font-weight:700;white-space:nowrap}
        .option-card .icon{font-size:1.5rem;margin-bottom:.3rem}
        .option-card .title{font-weight:600;color:var(--black);font-size:.85rem}
        .option-card input{position:absolute;opacity:0;pointer-events:none}
        .form-nav{display:flex;justify-content:space-between;gap:1rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--gray-light)}
        .form-nav .btn{flex:1;justify-content:center}
        .btn-back{background:var(--gray-light);color:var(--black)}
        .btn-back:hover{background:#e0e0e0}
        .payment-summary{background:var(--gray-light);border-radius:14px;padding:1.2rem;margin-bottom:1.5rem}
        .payment-summary h4{font-size:.95rem;margin-bottom:.8rem;color:var(--black)}
        .payment-item{display:flex;justify-content:space-between;padding:.4rem 0;font-size:.9rem}
        .payment-item.total{border-top:2px solid var(--black);margin-top:.5rem;padding-top:.8rem;font-weight:700;font-size:1.1rem}
        .secure-badge{display:flex;align-items:center;justify-content:center;gap:.5rem;color:var(--gray);font-size:.8rem;margin-top:1.2rem}
        .spinner{display:inline-block;width:20px;height:20px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:spin 1s ease-in-out infinite}
        @keyframes spin{to{transform:rotate(360deg)}}
        @media(max-width:768px){.nav-links{display:none}.option-grid{grid-template-columns:1fr}.option-grid.cols-3{grid-template-columns:repeat(2,1fr)}.pricing-grid,.testimonial-grid{grid-template-columns:1fr}.progress-step .lbl{display:none}.form-content{padding:1.5rem}}
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <nav>
        <div class="nav-content">
            <a href="#" class="logo">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50 15 L15 85 L25 85 L35 65 L65 65 L75 85 L85 85 Z' fill='none' stroke='%232A2A2A' stroke-width='4'/%3E%3Cpath d='M35 55 L65 55' stroke='%232A2A2A' stroke-width='4'/%3E%3Cpath d='M50 8 C55 8 60 13 60 20 C60 30 50 35 50 35 C50 35 40 30 40 20 C40 13 45 8 50 8' fill='%23EF5B6C'/%3E%3C/svg%3E" alt="AMORIX">
                <span class="logo-text">AMORIX</span>
            </a>
            <ul class="nav-links">
                <li><a href="#how" data-i18n="nav.how">Comment √ßa marche</a></li>
                <li><a href="#samples" data-i18n="nav.samples">Exemples</a></li>
                <li><a href="#pricing" data-i18n="nav.pricing">Tarifs</a></li>
                <li><a href="#testimonials" data-i18n="nav.testimonials">T√©moignages</a></li>
                <li>
                    <div class="lang-switch">
                        <button class="lang-btn active" data-lang="fr">FR</button>
                        <button class="lang-btn" data-lang="en">EN</button>
                    </div>
                </li>
                <li><a href="#" class="nav-cta open-form" data-i18n="nav.cta">Commander</a></li>
            </ul>
        </div>
    </nav>

    <section class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <span class="pulse"></span>
                <span data-i18n="hero.badge">Saint-Valentin 2026 ‚Äî Places limit√©es</span>
            </div>
            <h1 data-i18n="hero.title">Offrez une <span class="accent">chanson</span><br>qui raconte votre histoire</h1>
            <p class="hero-subtitle" data-i18n="hero.subtitle">Une chanson personnalis√©e cr√©√©e sp√©cialement pour vous.<br>Vos pr√©noms, vos souvenirs, votre amour ‚Äî transform√©s en musique.</p>
            <div class="hero-cta">
                <button class="btn btn-primary open-form" data-i18n="hero.cta1">üéµ Cr√©er notre chanson</button>
                <a href="#how" class="btn btn-secondary" data-i18n="hero.cta2">D√©couvrir le concept</a>
            </div>
            <div class="hero-price">
                <div class="price-tag">
                    <span class="amount">29$</span>
                    <span class="details" data-i18n="hero.price">| Livraison 48h | MP3 + Paroles</span>
                </div>
            </div>
        </div>
    </section>

    <section class="how-it-works" id="how">
        <div class="section-header">
            <h2 data-i18n="how.title">Comment √ßa fonctionne?</h2>
            <p data-i18n="how.subtitle">En 3 √©tapes simples, recevez une chanson unique qui fera pleurer de joie.</p>
        </div>
        <div class="steps">
            <div class="step"><div class="step-number">1</div><h3 data-i18n="how.s1.title">Partagez votre histoire</h3><p data-i18n="how.s1.desc">R√©pondez √† quelques questions: pr√©noms, moments sp√©ciaux, style musical...</p></div>
            <div class="step"><div class="step-number">2</div><h3 data-i18n="how.s2.title">Nous cr√©ons votre chanson</h3><p data-i18n="how.s2.desc">En moins de 48h, nous composons une chanson unique avec vos d√©tails.</p></div>
            <div class="step"><div class="step-number">3</div><h3 data-i18n="how.s3.title">Surprenez votre amour</h3><p data-i18n="how.s3.desc">Recevez votre MP3 + paroles. Pr√©parez les mouchoirs!</p></div>
        </div>
    </section>

    <!-- Section Exemples Audio -->
    <section class="samples" id="samples">
        <div class="section-header">
            <h2 data-i18n="samples.title">√âcoutez nos cr√©ations</h2>
            <p data-i18n="samples.subtitle">Voici quelques exemples de chansons personnalis√©es que nous avons cr√©√©es.</p>
        </div>
        <div class="samples-grid">
            <div class="sample-card">
                <div class="sample-info">
                    <span class="sample-genre">Pop</span>
                    <h4 data-i18n="samples.s1.title">Pour Marie - Saint-Valentin</h4>
                    <p data-i18n="samples.s1.desc">Une chanson romantique pour c√©l√©brer 5 ans d'amour</p>
                </div>
                <audio controls class="sample-audio">
                    <source src="/audio/exemple-1.mp3" type="audio/mpeg">
                </audio>
            </div>
            <div class="sample-card">
                <div class="sample-info">
                    <span class="sample-genre">Soul</span>
                    <h4 data-i18n="samples.s2.title">Pour Alex - Anniversaire</h4>
                    <p data-i18n="samples.s2.desc">Un morceau √©mouvant pour un 10e anniversaire de mariage</p>
                </div>
                <audio controls class="sample-audio">
                    <source src="/audio/exemple-2.mp3" type="audio/mpeg">
                </audio>
            </div>
            <div class="sample-card">
                <div class="sample-info">
                    <span class="sample-genre">Folk</span>
                    <h4 data-i18n="samples.s3.title">Pour Sophie - Demande</h4>
                    <p data-i18n="samples.s3.desc">Une chanson douce pour accompagner une demande en mariage</p>
                </div>
                <audio controls class="sample-audio">
                    <source src="/audio/exemple-3.mp3" type="audio/mpeg">
                </audio>
            </div>
        </div>
    </section>

    <section class="pricing" id="pricing">
        <div class="section-header">
            <h2 data-i18n="pricing.title">Choisissez votre formule</h2>
            <p data-i18n="pricing.subtitle">Un cadeau unique √† partir de 29$ ‚Äî infiniment plus m√©morable qu'un resto.</p>
        </div>
        <div class="pricing-grid">
            <div class="pricing-card">
                <h3 data-i18n="pricing.std.name">Standard</h3>
                <div class="price">29$<span> CAD</span></div>
                <ul>
                    <li data-i18n="pricing.std.f1">1 chanson personnalis√©e</li>
                    <li data-i18n="pricing.std.f2">Fichier MP3 haute qualit√©</li>
                    <li data-i18n="pricing.std.f3">Paroles en PDF</li>
                    <li data-i18n="pricing.std.f4">Livraison en 48h</li>
                </ul>
                <button class="btn btn-secondary open-form" data-plan="standard" data-plan-name="Standard" data-price="29" data-i18n="pricing.cta">Choisir</button>
            </div>
            <div class="pricing-card featured">
                <span class="badge" data-i18n="pricing.cpl.badge">‚≠ê Populaire</span>
                <h3 data-i18n="pricing.cpl.name">Forfait Couple</h3>
                <div class="price">49$<span> CAD</span></div>
                <ul>
                    <li data-i18n="pricing.cpl.f1">2 chansons diff√©rentes</li>
                    <li data-i18n="pricing.cpl.f2">Fichiers MP3 haute qualit√©</li>
                    <li data-i18n="pricing.cpl.f3">Paroles en PDF</li>
                    <li data-i18n="pricing.cpl.f4">Saint-Valentin + Anniversaire</li>
                </ul>
                <button class="btn btn-primary open-form" data-plan="couple" data-plan-name="Forfait Couple" data-price="49" data-i18n="pricing.cta">Choisir</button>
            </div>
            <div class="pricing-card">
                <h3 data-i18n="pricing.dlx.name">Forfait Deluxe</h3>
                <div class="price">55$<span> CAD</span></div>
                <ul>
                    <li data-i18n="pricing.dlx.f1">2 chansons personnalis√©es</li>
                    <li data-i18n="pricing.dlx.f2">2 versions chaque (4 MP3)</li>
                    <li data-i18n="pricing.dlx.f3">Paroles en PDF</li>
                    <li data-i18n="pricing.dlx.f4">Vari√©t√© d'ambiances</li>
                </ul>
                <button class="btn btn-secondary open-form" data-plan="deluxe" data-plan-name="Forfait Deluxe" data-price="55" data-i18n="pricing.cta">Choisir</button>
            </div>
        </div>
        <p style="text-align:center;margin-top:2rem;color:var(--gray);font-size:.85rem">
            <span data-i18n="pricing.express">Besoin de votre chanson rapidement? Livraison express en 6h disponible (+15$)</span><br>
            <span data-i18n="pricing.taxes" style="font-size:.8rem">Les taxes applicables seront ajout√©es au moment du paiement.</span>
        </p>
    </section>

    <section class="testimonials" id="testimonials">
        <div class="section-header">
            <h2 data-i18n="test.title">Ils ont fait pleurer leur partenaire</h2>
            <p data-i18n="test.subtitle">Des centaines de couples ont d√©j√† v√©cu ce moment magique.</p>
        </div>
        <div class="testimonial-grid">
            <div class="testimonial"><p data-i18n="test.t1">Apr√®s 12 ans de mariage, je pensais plus pouvoir la surprendre. Quand elle a entendu nos pr√©noms, elle a fondu en larmes!</p><div class="testimonial-author"><div class="avatar">MS</div><div class="info"><strong>Marc S.</strong><span>Montr√©al</span></div></div></div>
            <div class="testimonial"><p data-i18n="test.t2">Mon chum est pas √©motif, mais quand il a entendu l'histoire de notre premier date... il a pleur√©!</p><div class="testimonial-author"><div class="avatar">JL</div><div class="info"><strong>Julie L.</strong><span>Qu√©bec</span></div></div></div>
            <div class="testimonial"><p data-i18n="test.t3">J'ai command√© le Forfait Couple. Les deux chansons sont PARFAITES. Service super rapide!</p><div class="testimonial-author"><div class="avatar">PD</div><div class="info"><strong>Philippe D.</strong><span>Laval</span></div></div></div>
        </div>
    </section>

    <section class="footer-cta">
        <h2 data-i18n="cta.title">Pr√™ts √† faire pleurer de joie?</h2>
        <p data-i18n="cta.subtitle">Commandez maintenant et recevez votre chanson en 48h.</p>
        <button class="btn btn-primary open-form" data-i18n="cta.btn">üéµ Cr√©er notre chanson</button>
    </section>

    <footer>
        <a href="#" class="logo" style="margin-bottom:1rem">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50 15 L15 85 L25 85 L35 65 L65 65 L75 85 L85 85 Z' fill='none' stroke='white' stroke-width='4'/%3E%3Cpath d='M35 55 L65 55' stroke='white' stroke-width='4'/%3E%3Cpath d='M50 8 C55 8 60 13 60 20 C60 30 50 35 50 35 C50 35 40 30 40 20 C40 13 45 8 50 8' fill='%23EF5B6C'/%3E%3C/svg%3E" alt="AMORIX" style="height:35px">
            <span class="logo-text">AMORIX</span>
        </a>
        <p>¬© 2026 AMORIX ‚Äî <span data-i18n="footer.tag">Chaque amour a sa chanson</span> ‚ô•</p>
    </footer>

    <!-- Modal -->
    <div class="modal-overlay" id="modal">
        <div class="modal">
            <button class="modal-close" id="closeModal">‚úï</button>
            <div class="modal-header" style="background:var(--coral);color:var(--white);padding:1rem 2rem;display:flex;align-items:center;justify-content:center;gap:1rem">
                <span class="plan-name" id="selectedPlanName" style="font-family:'Cormorant Garamond',serif;font-size:1.3rem;font-weight:600">Standard</span>
                <span class="plan-price" id="selectedPlanPrice" style="background:rgba(255,255,255,.2);padding:.3rem .8rem;border-radius:50px;font-weight:700">29$ CAD</span>
            </div>
            <div class="progress-bar">
                <div class="progress-step active" data-step="1"><div class="num">1</div><div class="lbl" data-i18n="form.p1">Infos</div></div>
                <div class="progress-step" data-step="2"><div class="num">2</div><div class="lbl" data-i18n="form.p2">Histoire</div></div>
                <div class="progress-step" data-step="3"><div class="num">3</div><div class="lbl" data-i18n="form.p3">Style</div></div>
                <div class="progress-step" data-step="4"><div class="num">4</div><div class="lbl" data-i18n="form.p4">Paiement</div></div>
            </div>
            <div class="form-content">
                <!-- Step 1 -->
                <div class="form-step active" data-step="1">
                    <h3 data-i18n="form.s1.title">Informations de base</h3>
                    <p class="subtitle" data-i18n="form.s1.sub">Commen√ßons par les d√©tails essentiels</p>
                    <div class="form-group">
                        <label data-i18n="form.s1.name">C'est pour qui cette chanson?</label>
                        <input type="text" id="recipientName" data-i18n-ph="form.s1.namePh" placeholder="Nom de la personne">
                    </div>
                    <div class="form-group">
                        <label data-i18n="form.s1.lang">Langue de la chanson</label>
                        <select id="songLanguage">
                            <option value="french" data-i18n="opt.french">Fran√ßais</option>
                            <option value="english" data-i18n="opt.english">Anglais</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-i18n="form.s1.occasion">Pour quelle occasion?</label>
                        <select id="occasion" onchange="toggleOtherField()">
                            <option value="" disabled selected data-i18n="opt.choose">-- Choisir une occasion --</option>
                            <option value="valentines" data-i18n="opt.valentines">‚ù§Ô∏è Saint-Valentin</option>
                            <option value="anniversary" data-i18n="opt.anniversary">Anniversaire</option>
                            <option value="proposal" data-i18n="opt.proposal">Demande en mariage</option>
                            <option value="datenight" data-i18n="opt.datenight">Soir√©e romantique</option>
                            <option value="achievement" data-i18n="opt.achievement">Accomplissement</option>
                            <option value="other" data-i18n="opt.other">Autre</option>
                        </select>
                    </div>
                    <div class="form-group" id="otherOccasionGroup" style="display:none;">
                        <label data-i18n="form.s1.otherLabel">Pr√©cisez l'occasion</label>
                        <input type="text" id="otherOccasion" data-i18n-ph="form.s1.otherPh" placeholder="Ex: F√™te des m√®res, Naissance, etc.">
                    </div>
                    <div class="form-nav"><button class="btn btn-primary next-btn" data-i18n="form.next">Continuer</button></div>
                </div>
                <!-- Step 2 -->
                <div class="form-step" data-step="2">
                    <h3 data-i18n="form.s2.title">Votre histoire</h3>
                    <p class="subtitle" data-i18n="form.s2.sub">Ces d√©tails rendront votre chanson unique</p>
                    <div class="form-group">
                        <label data-i18n="form.s2.meet">O√π vous √™tes-vous rencontr√©s?</label>
                        <textarea id="meetStory" data-i18n-ph="form.s2.meetPh" placeholder="Ex: On s'est rencontr√©s √† une f√™te en 2018..."></textarea>
                    </div>
                    <div class="form-group">
                        <label data-i18n="form.s2.memory">Votre plus beau souvenir ensemble</label>
                        <textarea id="bestMemory" data-i18n-ph="form.s2.memoryPh" placeholder="Ex: Notre premier voyage, la demande sur la plage..."></textarea>
                    </div>
                    <div class="form-group">
                        <label data-i18n="form.s2.love">Qu'aimez-vous le plus chez cette personne?</label>
                        <textarea id="whatILove" data-i18n-ph="form.s2.lovePh" placeholder="Ex: Son sourire, sa gentillesse..."></textarea>
                    </div>
                    <div class="form-group">
                        <label><span data-i18n="form.s2.special">Un mot sp√©cifique √† inclure</span> <span class="opt" data-i18n="form.optional">(optionnel)</span></label>
                        <input type="text" id="specialWord" data-i18n-ph="form.s2.specialPh" placeholder="Ex: un surnom, une expression...">
                    </div>
                    <div class="form-nav">
                        <button class="btn btn-back back-btn" data-i18n="form.back">Retour</button>
                        <button class="btn btn-primary next-btn" data-i18n="form.next">Continuer</button>
                    </div>
                </div>
                <!-- Step 3 -->
                <div class="form-step" data-step="3">
                    <h3 data-i18n="form.s3.title">Style musical</h3>
                    <p class="subtitle" data-i18n="form.s3.sub">Choisissez le son parfait pour votre chanson</p>
                    <div class="form-group">
                        <label data-i18n="form.s3.genre">Genre musical</label>
                        <select id="genre">
                            <option value="pop" data-i18n="opt.pop">Pop</option>
                            <option value="rock" data-i18n="opt.rock">Rock alternatif</option>
                            <option value="soul" data-i18n="opt.soul">Soul</option>
                            <option value="jazz" data-i18n="opt.jazz">Jazz</option>
                            <option value="country" data-i18n="opt.country">Country Qu√©b√©cois</option>
                            <option value="folk" data-i18n="opt.folk">Folk</option>
                            <option value="rnb" data-i18n="opt.rnb">R&B</option>
                            <option value="afrobeat" data-i18n="opt.afrobeat">Afrobeat</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-i18n="form.s3.mood">Ambiance</label>
                        <select id="mood">
                            <option value="romantic" data-i18n="opt.romantic">Romantique</option>
                            <option value="happy" data-i18n="opt.happy">Joyeux</option>
                            <option value="heartfelt" data-i18n="opt.heartfelt">√âmouvant</option>
                            <option value="chill" data-i18n="opt.chill">Doux/Calme</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label data-i18n="form.s3.vocal">Voix</label>
                        <select id="vocal">
                            <option value="any" data-i18n="opt.any">Peu importe</option>
                            <option value="male" data-i18n="opt.male">Masculine</option>
                            <option value="female" data-i18n="opt.female">F√©minine</option>
                        </select>
                    </div>
                    <div class="form-nav">
                        <button class="btn btn-back back-btn" data-i18n="form.back">Retour</button>
                        <button class="btn btn-primary next-btn" data-i18n="form.next">Continuer</button>
                    </div>
                </div>
                <!-- Step 4 - Payment -->
                <div class="form-step" data-step="4">
                    <h3 data-i18n="form.s4.title">R√©capitulatif et paiement</h3>
                    <p class="subtitle" data-i18n="form.s4.sub">V√©rifiez vos informations avant de payer</p>
                    
                    <!-- R√©capitulatif des choix -->
                    <div class="recap-section" style="background:var(--gray-light);border-radius:14px;padding:1.2rem;margin-bottom:1.5rem">
                        <h4 style="margin-bottom:1rem;color:var(--coral)" data-i18n="form.s4.recap">Vos choix</h4>
                        <div style="display:grid;gap:.5rem;font-size:.9rem">
                            <div style="display:flex;justify-content:space-between;padding:.3rem 0;border-bottom:1px solid rgba(0,0,0,.05)">
                                <span style="color:var(--gray)" data-i18n="recap.recipient">Pour</span>
                                <span id="recapRecipient" style="font-weight:500">-</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;padding:.3rem 0;border-bottom:1px solid rgba(0,0,0,.05)">
                                <span style="color:var(--gray)" data-i18n="recap.language">Langue</span>
                                <span id="recapLanguage" style="font-weight:500">-</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;padding:.3rem 0;border-bottom:1px solid rgba(0,0,0,.05)">
                                <span style="color:var(--gray)" data-i18n="recap.occasion">Occasion</span>
                                <span id="recapOccasion" style="font-weight:500">-</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;padding:.3rem 0;border-bottom:1px solid rgba(0,0,0,.05)">
                                <span style="color:var(--gray)" data-i18n="recap.genre">Genre</span>
                                <span id="recapGenre" style="font-weight:500">-</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;padding:.3rem 0;border-bottom:1px solid rgba(0,0,0,.05)">
                                <span style="color:var(--gray)" data-i18n="recap.mood">Ambiance</span>
                                <span id="recapMood" style="font-weight:500">-</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;padding:.3rem 0;border-bottom:1px solid rgba(0,0,0,.05)">
                                <span style="color:var(--gray)" data-i18n="recap.vocal">Voix</span>
                                <span id="recapVocal" style="font-weight:500">-</span>
                            </div>
                        </div>
                        
                        <!-- Histoire -->
                        <h4 style="margin:1.2rem 0 .8rem;color:var(--coral)" data-i18n="form.s4.recapStory">Votre histoire</h4>
                        <div style="display:grid;gap:.8rem;font-size:.85rem">
                            <div style="background:var(--white);padding:.8rem;border-radius:8px">
                                <span style="color:var(--gray);display:block;margin-bottom:.3rem" data-i18n="recap.meet">Rencontre</span>
                                <span id="recapMeet" style="color:var(--black)">-</span>
                            </div>
                            <div style="background:var(--white);padding:.8rem;border-radius:8px">
                                <span style="color:var(--gray);display:block;margin-bottom:.3rem" data-i18n="recap.memory">Plus beau souvenir</span>
                                <span id="recapMemory" style="color:var(--black)">-</span>
                            </div>
                            <div style="background:var(--white);padding:.8rem;border-radius:8px">
                                <span style="color:var(--gray);display:block;margin-bottom:.3rem" data-i18n="recap.love">Ce que vous aimez</span>
                                <span id="recapLove" style="color:var(--black)">-</span>
                            </div>
                            <div style="background:var(--white);padding:.8rem;border-radius:8px" id="recapSpecialGroup">
                                <span style="color:var(--gray);display:block;margin-bottom:.3rem" data-i18n="recap.special">Mot sp√©cial</span>
                                <span id="recapSpecial" style="color:var(--black)">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- R√©sum√© financier -->
                    <div class="payment-summary">
                        <h4 data-i18n="form.s4.summary">R√©sum√© de commande</h4>
                        <div class="payment-item"><span id="productName">Chanson personnalis√©e</span><span id="productPrice">29.00$</span></div>
                        <div class="payment-item" id="urgentLine" style="display:none"><span data-i18n="form.s4.express">Livraison EXPRESS (6h)</span><span>15.00$</span></div>
                        <div class="payment-item" style="color:var(--gray);font-size:.85rem"><span>TPS (5%)</span><span id="tpsAmount">1.45$</span></div>
                        <div class="payment-item" style="color:var(--gray);font-size:.85rem"><span>TVQ (9.975%)</span><span id="tvqAmount">2.89$</span></div>
                        <div class="payment-item total"><span>Total</span><span id="totalPrice">33.34$ CAD</span></div>
                    </div>
                    <div class="form-group">
                        <label style="display:flex;align-items:center;gap:10px;cursor:pointer;padding:12px;border:2px solid var(--gray-light);border-radius:12px;transition:all .3s" id="urgentLabel">
                            <input type="checkbox" id="urgentDelivery" onchange="updateTotal()" style="width:20px;height:20px;cursor:pointer">
                            <span><strong data-i18n="form.s4.urgentLabel">Livraison EXPRESS en 6h</strong> <span style="color:var(--coral)">(+15$)</span></span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label data-i18n="form.s4.email">Email (pour recevoir votre chanson)</label>
                        <input type="email" id="email" data-i18n-ph="form.s4.emailPh" placeholder="votre@email.com" required>
                    </div>
                    <div class="form-nav">
                        <button class="btn btn-back back-btn" data-i18n="form.back">Retour</button>
                        <button class="btn btn-primary" id="payBtn" data-i18n="form.s4.pay">Payer avec Stripe</button>
                    </div>
                    <div class="secure-badge">üîí <span data-i18n="form.s4.secure">Paiement s√©curis√© via Stripe</span></div>
                </div>
            </div>
        </div>
    </div>

<script>
const i18n = {
    fr: {
        "nav.how": "Comment √ßa marche", "nav.samples": "Exemples", "nav.pricing": "Tarifs", "nav.testimonials": "T√©moignages", "nav.cta": "Commander",
        "hero.badge": "Saint-Valentin 2026 ‚Äî Places limit√©es", "hero.title": "Offrez une <span class='accent'>chanson</span><br>qui raconte votre histoire",
        "hero.subtitle": "Une chanson personnalis√©e cr√©√©e sp√©cialement pour vous.<br>Vos pr√©noms, vos souvenirs, votre amour ‚Äî transform√©s en musique.",
        "hero.cta1": "Cr√©er notre chanson", "hero.cta2": "D√©couvrir le concept", "hero.price": "| Livraison 48h | MP3 + Paroles",
        "how.title": "Comment √ßa fonctionne?", "how.subtitle": "En 3 √©tapes simples, recevez une chanson unique qui fera pleurer de joie.",
        "how.s1.title": "Partagez votre histoire", "how.s1.desc": "R√©pondez √† quelques questions: pr√©noms, moments sp√©ciaux, style musical...",
        "how.s2.title": "Nous cr√©ons votre chanson", "how.s2.desc": "En moins de 48h, nous composons une chanson unique avec vos d√©tails.",
        "how.s3.title": "Surprenez votre amour", "how.s3.desc": "Recevez votre MP3 + paroles. Pr√©parez les mouchoirs!",
        "pricing.title": "Choisissez votre formule", "pricing.subtitle": "Un cadeau unique √† partir de 29$ ‚Äî infiniment plus m√©morable qu'un resto.",
        "pricing.std.name": "Standard", "pricing.std.f1": "1 chanson personnalis√©e", "pricing.std.f2": "Fichier MP3 haute qualit√©", "pricing.std.f3": "Paroles en PDF", "pricing.std.f4": "Livraison en 48h",
        "pricing.cpl.badge": "Populaire", "pricing.cpl.name": "Forfait Couple", "pricing.cpl.f1": "2 chansons diff√©rentes", "pricing.cpl.f2": "Fichiers MP3 haute qualit√©", "pricing.cpl.f3": "Paroles en PDF", "pricing.cpl.f4": "Saint-Valentin + Anniversaire",
        "pricing.dlx.name": "Forfait Deluxe", "pricing.dlx.f1": "2 chansons personnalis√©es", "pricing.dlx.f2": "2 versions chaque (4 MP3)", "pricing.dlx.f3": "Paroles en PDF", "pricing.dlx.f4": "Vari√©t√© d'ambiances",
        "pricing.cta": "Choisir",
        "test.title": "Ils ont fait pleurer leur partenaire", "test.subtitle": "Des centaines de couples ont d√©j√† v√©cu ce moment magique.",
        "test.t1": "Apr√®s 12 ans de mariage, je pensais plus pouvoir la surprendre. Quand elle a entendu nos pr√©noms, elle a fondu en larmes!",
        "test.t2": "Mon chum est pas √©motif, mais quand il a entendu l'histoire de notre premier date... il a pleur√©!",
        "test.t3": "J'ai command√© le Forfait Couple. Les deux chansons sont PARFAITES. Service super rapide!",
        "cta.title": "Pr√™ts √† faire pleurer de joie?", "cta.subtitle": "Commandez maintenant et recevez votre chanson en 48h.", "cta.btn": "Cr√©er notre chanson",
        "footer.tag": "Chaque amour a sa chanson",
        "samples.title": "√âcoutez nos cr√©ations", "samples.subtitle": "Voici quelques exemples de chansons personnalis√©es que nous avons cr√©√©es.",
        "samples.s1.title": "Pour Marie - Saint-Valentin", "samples.s1.desc": "Une chanson romantique pour c√©l√©brer 5 ans d'amour",
        "samples.s2.title": "Pour Alex - Anniversaire", "samples.s2.desc": "Un morceau √©mouvant pour un 10e anniversaire de mariage",
        "samples.s3.title": "Pour Sophie - Demande", "samples.s3.desc": "Une chanson douce pour accompagner une demande en mariage",
        "form.p1": "Infos", "form.p2": "Histoire", "form.p3": "Style", "form.p4": "Paiement",
        "form.s1.title": "Informations de base", "form.s1.sub": "Commen√ßons par les d√©tails essentiels",
        "form.s1.name": "C'est pour qui cette chanson?", "form.s1.namePh": "Nom de la personne",
        "form.s1.lang": "Langue de la chanson", "form.s1.langFr": "Fran√ßais", "form.s1.langEn": "Anglais",
        "form.s1.occasion": "Pour quelle occasion?",
        "form.s1.otherLabel": "Pr√©cisez l'occasion", "form.s1.otherPh": "Ex: F√™te des m√®res, Naissance, etc.",
        "form.s2.title": "Votre histoire", "form.s2.sub": "Ces d√©tails rendront votre chanson unique",
        "form.s2.meet": "O√π vous √™tes-vous rencontr√©s?", "form.s2.meetPh": "Ex: On s'est rencontr√©s √† une f√™te en 2018...",
        "form.s2.memory": "Votre plus beau souvenir ensemble", "form.s2.memoryPh": "Ex: Notre premier voyage, la demande sur la plage...",
        "form.s2.love": "Qu'aimez-vous le plus chez cette personne?", "form.s2.lovePh": "Ex: Son sourire, sa gentillesse...",
        "form.s2.special": "Un mot sp√©cifique √† inclure", "form.s2.specialPh": "Ex: un surnom, une expression...", "form.optional": "(optionnel)",
        "form.s3.title": "Style musical", "form.s3.sub": "Choisissez le son parfait pour votre chanson",
        "form.s3.genre": "Genre musical", "form.s3.mood": "Ambiance", "form.s3.vocal": "Voix",
        "form.s4.title": "R√©capitulatif et paiement", "form.s4.sub": "V√©rifiez vos informations avant de payer", "form.s4.summary": "R√©sum√© de commande",
        "form.s4.recap": "Vos choix", "form.s4.recapStory": "Votre histoire", "form.s4.express": "Livraison EXPRESS (6h)", "form.s4.urgentLabel": "Livraison EXPRESS en 6h",
        "form.s4.email": "Email (pour recevoir votre chanson)", "form.s4.emailPh": "votre@email.com",
        "form.s4.pay": "Payer", "form.s4.secure": "Paiement s√©curis√© via Stripe",
        "form.next": "Continuer", "form.back": "Retour",
        "recap.recipient": "Pour", "recap.language": "Langue", "recap.occasion": "Occasion", "recap.genre": "Genre", "recap.mood": "Ambiance", "recap.vocal": "Voix",
        "recap.meet": "Rencontre", "recap.memory": "Plus beau souvenir", "recap.love": "Ce que vous aimez", "recap.special": "Mot sp√©cial",
        "opt.french": "Fran√ßais", "opt.english": "Anglais",
        "opt.choose": "-- Choisir une occasion --", "opt.valentines": "‚ù§Ô∏è Saint-Valentin", "opt.anniversary": "Anniversaire", "opt.proposal": "Demande en mariage", "opt.datenight": "Soir√©e romantique", "opt.achievement": "Accomplissement", "opt.other": "Autre",
        "opt.pop": "Pop", "opt.rock": "Rock alternatif", "opt.soul": "Soul", "opt.jazz": "Jazz", "opt.country": "Country Qu√©b√©cois", "opt.folk": "Folk", "opt.rnb": "R&B", "opt.afrobeat": "Afrobeat",
        "opt.romantic": "Romantique", "opt.happy": "Joyeux", "opt.heartfelt": "√âmouvant", "opt.chill": "Doux/Calme",
        "opt.any": "Peu importe", "opt.male": "Masculine", "opt.female": "F√©minine"
    },
    en: {
        "nav.how": "How it works", "nav.samples": "Samples", "nav.pricing": "Pricing", "nav.testimonials": "Reviews", "nav.cta": "Order",
        "hero.badge": "Valentine's 2026 ‚Äî Limited spots", "hero.title": "Gift a <span class='accent'>song</span><br>that tells your story",
        "hero.subtitle": "A personalized song created just for you.<br>Your names, your memories, your love ‚Äî turned into music.",
        "hero.cta1": "üéµ Create our song", "hero.cta2": "Discover the concept", "hero.price": "| 48h delivery | MP3 + Lyrics",
        "how.title": "How does it work?", "how.subtitle": "In 3 simple steps, receive a unique song that will bring tears of joy.",
        "how.s1.title": "Share your story", "how.s1.desc": "Answer a few questions: names, special moments, music style...",
        "how.s2.title": "We create your song", "how.s2.desc": "In less than 48h, we compose a unique song with your details.",
        "how.s3.title": "Surprise your love", "how.s3.desc": "Receive your MP3 + lyrics. Get the tissues ready!",
        "pricing.title": "Choose your package", "pricing.subtitle": "A unique gift from $29 ‚Äî way more memorable than dinner.",
        "pricing.std.name": "Standard", "pricing.std.f1": "1 personalized song", "pricing.std.f2": "High quality MP3", "pricing.std.f3": "Lyrics PDF", "pricing.std.f4": "48h delivery",
        "pricing.cpl.badge": "Popular", "pricing.cpl.name": "Couple Pack", "pricing.cpl.f1": "2 different songs", "pricing.cpl.f2": "High quality MP3s", "pricing.cpl.f3": "Lyrics PDFs", "pricing.cpl.f4": "Valentine's + Anniversary",
        "pricing.dlx.name": "Deluxe Pack", "pricing.dlx.f1": "2 personalized songs", "pricing.dlx.f2": "2 versions each (4 MP3s)", "pricing.dlx.f3": "Lyrics PDFs", "pricing.dlx.f4": "Variety of moods",
        "pricing.cta": "Choose",
        "test.title": "They made their partner cry", "test.subtitle": "Hundreds of couples have already lived this magical moment.",
        "test.t1": "After 12 years of marriage, I thought I couldn't surprise her anymore. When she heard our names, she burst into tears!",
        "test.t2": "My boyfriend isn't emotional, but when he heard our first date story... he cried!",
        "test.t3": "I ordered the Couple Pack. Both songs are PERFECT. Super fast service!",
        "cta.title": "Ready to bring tears of joy?", "cta.subtitle": "Order now and receive your song within 48h.", "cta.btn": "Create our song",
        "footer.tag": "Every love has its song",
        "samples.title": "Listen to our creations", "samples.subtitle": "Here are some examples of personalized songs we've created.",
        "samples.s1.title": "For Marie - Valentine's Day", "samples.s1.desc": "A romantic song to celebrate 5 years of love",
        "samples.s2.title": "For Alex - Anniversary", "samples.s2.desc": "A touching piece for a 10th wedding anniversary",
        "samples.s3.title": "For Sophie - Proposal", "samples.s3.desc": "A soft song to accompany a marriage proposal",
        "form.p1": "Info", "form.p2": "Story", "form.p3": "Style", "form.p4": "Payment",
        "form.s1.title": "Basic information", "form.s1.sub": "Let's start with the essentials",
        "form.s1.name": "Who is this song for?", "form.s1.namePh": "Person's name",
        "form.s1.lang": "Song language",
        "form.s1.occasion": "What's the occasion?",
        "form.s1.otherLabel": "Specify the occasion", "form.s1.otherPh": "Ex: Mother's Day, Birth, etc.",
        "form.s2.title": "Your story", "form.s2.sub": "These details will make your song unique",
        "form.s2.meet": "Where did you meet?", "form.s2.meetPh": "Ex: We met at a party in 2018...",
        "form.s2.memory": "Your best memory together", "form.s2.memoryPh": "Ex: Our first trip, the beach proposal...",
        "form.s2.love": "What do you love most about this person?", "form.s2.lovePh": "Ex: Their smile, their kindness...",
        "form.s2.special": "A specific word to include", "form.s2.specialPh": "Ex: a nickname, an expression...", "form.optional": "(optional)",
        "form.s3.title": "Musical style", "form.s3.sub": "Choose the perfect sound for your song",
        "form.s3.genre": "Music genre", "form.s3.mood": "Mood", "form.s3.vocal": "Voice",
        "form.s4.title": "Summary and payment", "form.s4.sub": "Review your information before paying", "form.s4.summary": "Order summary",
        "form.s4.recap": "Your choices", "form.s4.recapStory": "Your story", "form.s4.express": "EXPRESS Delivery (6h)", "form.s4.urgentLabel": "EXPRESS Delivery in 6h",
        "form.s4.email": "Email (to receive your song)", "form.s4.emailPh": "your@email.com",
        "form.s4.pay": "Pay", "form.s4.secure": "Secure payment via Stripe",
        "form.next": "Continue", "form.back": "Back",
        "recap.recipient": "For", "recap.language": "Language", "recap.occasion": "Occasion", "recap.genre": "Genre", "recap.mood": "Mood", "recap.vocal": "Voice",
        "recap.meet": "How you met", "recap.memory": "Best memory", "recap.love": "What you love", "recap.special": "Special word",
        "opt.french": "French", "opt.english": "English",
        "opt.choose": "-- Choose an occasion --", "opt.valentines": "‚ù§Ô∏è Valentine's Day", "opt.anniversary": "Anniversary", "opt.proposal": "Marriage proposal", "opt.datenight": "Date night", "opt.achievement": "Achievement", "opt.other": "Other",
        "opt.pop": "Pop", "opt.rock": "Alternative Rock", "opt.soul": "Soul", "opt.jazz": "Jazz", "opt.country": "Country", "opt.folk": "Folk", "opt.rnb": "R&B", "opt.afrobeat": "Afrobeat",
        "opt.romantic": "Romantic", "opt.happy": "Happy", "opt.heartfelt": "Heartfelt", "opt.chill": "Chill",
        "opt.any": "Any", "opt.male": "Male", "opt.female": "Female"
    }
};

let currentLang = 'fr';
let currentStep = 1;
let selectedPlan = 'standard';
let selectedPlanName = 'Standard';
let selectedPrice = 29;

// Constantes taxes Qu√©bec
const TPS_RATE = 0.05;      // 5%
const TVQ_RATE = 0.09975;   // 9.975%

function setLang(lang) {
    currentLang = lang;
    document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.dataset.lang === lang));
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.dataset.i18n;
        if (i18n[lang][key]) el.innerHTML = i18n[lang][key];
    });
    document.querySelectorAll('[data-i18n-ph]').forEach(el => {
        const key = el.dataset.i18nPh;
        if (i18n[lang][key]) el.placeholder = i18n[lang][key];
    });
    updatePayBtn();
}

function updatePayBtn() {
    const payBtn = document.getElementById('payBtn');
    const urgent = document.getElementById('urgentDelivery')?.checked || false;
    let subtotal = selectedPrice + (urgent ? 15 : 0);
    const total = subtotal * (1 + TPS_RATE + TVQ_RATE);
    const base = currentLang === 'fr' ? 'Payer' : 'Pay';
    payBtn.innerHTML = `${base} ${total.toFixed(2)}$ CAD`;
}

document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => setLang(btn.dataset.lang));
});

// Modal
const modal = document.getElementById('modal');
document.querySelectorAll('.open-form').forEach(btn => {
    btn.addEventListener('click', e => {
        e.preventDefault();
        if (btn.dataset.plan) {
            selectedPlan = btn.dataset.plan;
            selectedPlanName = btn.dataset.planName || 'Standard';
            selectedPrice = parseInt(btn.dataset.price) || 29;
        }
        // Reset urgent delivery checkbox
        document.getElementById('urgentDelivery').checked = false;
        document.getElementById('urgentLine').style.display = 'none';
        document.getElementById('urgentLabel').style.borderColor = 'var(--gray-light)';
        document.getElementById('urgentLabel').style.background = 'transparent';
        
        // Calcul avec taxes
        const tps = selectedPrice * TPS_RATE;
        const tvq = selectedPrice * TVQ_RATE;
        const total = selectedPrice + tps + tvq;
        
        document.getElementById('productPrice').textContent = selectedPrice.toFixed(2) + '$';
        document.getElementById('tpsAmount').textContent = tps.toFixed(2) + '$';
        document.getElementById('tvqAmount').textContent = tvq.toFixed(2) + '$';
        document.getElementById('totalPrice').textContent = total.toFixed(2) + '$ CAD';
        document.getElementById('selectedPlanName').textContent = selectedPlanName;
        document.getElementById('selectedPlanPrice').textContent = selectedPrice + '$ CAD';
        updatePayBtn();
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    });
});

document.getElementById('closeModal').addEventListener('click', () => {
    modal.classList.remove('active');
    document.body.style.overflow = '';
});

modal.addEventListener('click', e => {
    if (e.target === modal) {
        modal.classList.remove('active');
        document.body.style.overflow = '';
    }
});

// Form navigation
function goToStep(step) {
    currentStep = step;
    document.querySelectorAll('.form-step').forEach(s => s.classList.remove('active'));
    document.querySelector(`.form-step[data-step="${step}"]`).classList.add('active');
    document.querySelectorAll('.progress-step').forEach(s => {
        const sStep = parseInt(s.dataset.step);
        s.classList.remove('active', 'done');
        if (sStep === step) s.classList.add('active');
        if (sStep < step) s.classList.add('done');
    });
    
    // Remplir le r√©capitulatif quand on arrive √† l'√©tape 4
    if (step === 4) {
        fillRecap();
    }
}

// Remplir le r√©capitulatif des choix
function fillRecap() {
    const lang = currentLang;
    const labels = i18n[lang];
    
    // R√©cup√©rer les valeurs
    const recipient = document.getElementById('recipientName').value || '-';
    const songLang = document.getElementById('songLanguage').value;
    const occasion = document.getElementById('occasion').value;
    const otherOccasion = document.getElementById('otherOccasion').value;
    const genre = document.getElementById('genre').value;
    const mood = document.getElementById('mood').value;
    const vocal = document.getElementById('vocal').value;
    
    // Remplir le r√©capitulatif
    document.getElementById('recapRecipient').textContent = recipient;
    document.getElementById('recapLanguage').textContent = labels['opt.' + songLang] || songLang;
    
    if (occasion === 'other' && otherOccasion) {
        document.getElementById('recapOccasion').textContent = otherOccasion;
    } else {
        document.getElementById('recapOccasion').textContent = labels['opt.' + occasion] || occasion || '-';
    }
    
    document.getElementById('recapGenre').textContent = labels['opt.' + genre] || genre;
    document.getElementById('recapMood').textContent = labels['opt.' + mood] || mood;
    document.getElementById('recapVocal').textContent = labels['opt.' + vocal] || vocal;
    
    // Champs texte de l'histoire
    const meetStory = document.getElementById('meetStory').value || '-';
    const bestMemory = document.getElementById('bestMemory').value || '-';
    const whatILove = document.getElementById('whatILove').value || '-';
    const specialWord = document.getElementById('specialWord').value;
    
    document.getElementById('recapMeet').textContent = meetStory;
    document.getElementById('recapMemory').textContent = bestMemory;
    document.getElementById('recapLove').textContent = whatILove;
    
    // Afficher le mot sp√©cial seulement s'il y en a un
    if (specialWord) {
        document.getElementById('recapSpecial').textContent = specialWord;
        document.getElementById('recapSpecialGroup').style.display = 'block';
    } else {
        document.getElementById('recapSpecialGroup').style.display = 'none';
    }
}

document.querySelectorAll('.next-btn').forEach(btn => {
    btn.addEventListener('click', () => goToStep(currentStep + 1));
});

document.querySelectorAll('.back-btn').forEach(btn => {
    btn.addEventListener('click', () => goToStep(currentStep - 1));
});

// Stripe Payment
document.getElementById('payBtn').addEventListener('click', async () => {
    const email = document.getElementById('email').value;
    if (!email || !email.includes('@')) {
        alert(currentLang === 'fr' ? 'Veuillez entrer un email valide' : 'Please enter a valid email');
        return;
    }

    const payBtn = document.getElementById('payBtn');
    payBtn.disabled = true;
    payBtn.innerHTML = '<span class="spinner"></span> ' + (currentLang === 'fr' ? 'Redirection...' : 'Redirecting...');

    const occasionValue = document.getElementById('occasion').value;
    const otherOccasion = document.getElementById('otherOccasion').value;
    const urgentDelivery = document.getElementById('urgentDelivery').checked;

    const songData = {
        recipientName: document.getElementById('recipientName').value,
        language: document.getElementById('songLanguage').value,
        occasion: occasionValue === 'other' ? `Autre: ${otherOccasion}` : occasionValue,
        meetStory: document.getElementById('meetStory').value,
        bestMemory: document.getElementById('bestMemory').value,
        whatILove: document.getElementById('whatILove').value,
        specialWord: document.getElementById('specialWord').value,
        genre: document.getElementById('genre').value,
        mood: document.getElementById('mood').value,
        vocal: document.getElementById('vocal').value,
        urgentDelivery: urgentDelivery
    };

    try {
        const response = await fetch('/create-checkout-session', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                plan: selectedPlan,
                email: email,
                songData: songData,
                language: currentLang,
                urgentDelivery: urgentDelivery
            })
        });

        const data = await response.json();
        if (data.url) {
            window.location.href = data.url;
        } else {
            throw new Error(data.error || 'Erreur');
        }
    } catch (error) {
        console.error('Erreur:', error);
        alert(currentLang === 'fr' ? 'Erreur de paiement. R√©essayez.' : 'Payment error. Please try again.');
        payBtn.disabled = false;
        updatePayBtn();
    }
});

// Option cards
document.querySelectorAll('.option-card').forEach(card => {
    card.addEventListener('click', () => {
        const name = card.querySelector('input').name;
        document.querySelectorAll(`.option-card input[name="${name}"]`).forEach(c => c.closest('.option-card').classList.remove('selected'));
        card.classList.add('selected');
        card.querySelector('input').checked = true;
    });
});

// Smooth scroll
document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', function(e) {
        if (this.classList.contains('open-form')) return;
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) target.scrollIntoView({ behavior: 'smooth' });
    });
});

// Toggle champ "Autre" occasion
function toggleOtherField() {
    const occasion = document.getElementById('occasion').value;
    const otherGroup = document.getElementById('otherOccasionGroup');
    otherGroup.style.display = occasion === 'other' ? 'block' : 'none';
}

// Mise √† jour du total avec livraison urgente et taxes
function updateTotal() {
    const urgent = document.getElementById('urgentDelivery').checked;
    const urgentLine = document.getElementById('urgentLine');
    const urgentLabel = document.getElementById('urgentLabel');
    
    // Sous-total avant taxes
    let subtotal = selectedPrice;
    if (urgent) {
        subtotal += 15;
        urgentLine.style.display = 'flex';
        urgentLabel.style.borderColor = 'var(--coral)';
        urgentLabel.style.background = 'rgba(239,91,108,.05)';
    } else {
        urgentLine.style.display = 'none';
        urgentLabel.style.borderColor = 'var(--gray-light)';
        urgentLabel.style.background = 'transparent';
    }
    
    // Calcul des taxes
    const tps = subtotal * TPS_RATE;
    const tvq = subtotal * TVQ_RATE;
    const total = subtotal + tps + tvq;
    
    // Mise √† jour affichage
    document.getElementById('productPrice').textContent = selectedPrice.toFixed(2) + '$';
    document.getElementById('tpsAmount').textContent = tps.toFixed(2) + '$';
    document.getElementById('tvqAmount').textContent = tvq.toFixed(2) + '$';
    document.getElementById('totalPrice').textContent = total.toFixed(2) + '$ CAD';
    
    updatePayBtn();
}

setLang('fr');
</script>
</body>
</html>
